{% extends "base.html" %}
{% set pageTitle = "Projects" %}
{% block content %}
  <div class="tna-section">
    <div class="tna-container">
      <div class="tna-column tna-column--full">
        <h1 class="tna-heading-xl">Projects</h1>
        <p>Below are the projects you can access. Select a project to view its details or create a new one.</p>
      </div>
      <div class="tna-column tna-column--full tna-!--padding-top-m">
        {% if user_can_create_project %}
        <div class="tna-button-group">
          <a href="{{ url("editor_ui:projects:create") }}"
             class="tna-button"
             aria-label="Create a project"
             title="Create a project">
            <i class="fa-solid fa-plus" aria-hidden="true"></i>
            Create a project
          </a>
        </div>
        {% endif %}
        {% if not projects %}
          <p>No projects found.</p>
        {% else %}
          <div class="tna-table-wrapper">
            <table class="tna-table">
              <thead class="tna-table__head">
                <tr class="tna-table__row">
                  <th class="tna-table__header tna-column--width-1-4">Name</th>
                  <th class="tna-table__header">Domain</th>
                  <th class="tna-table__header tna-table__header--numeric">Date created</th>
                  <th class="tna-table__header tna-table__header--numeric">Last updated</th>
                  <th class="tna-table__header tna-table__header--numeric">Responses</th>
                </tr>
              </thead>
              <tbody class="tna-table__body">
                {% for project in projects %}
                  <tr class="tna-table__row">
                    <th class="tna-table__header">
                      <a href="{{ url("editor_ui:projects:detail", project_uuid=project.uuid) }}">{{ project.name|wordwrap(25) }}</a>
                    </th>
                    <td class="tna-table__cell">{{ project.domain }}</td>
                    <td class="tna-table__cell tna-table__cell--numeric tna-column--width-min-content">{{ project.created_at|date }}</td>
                    <td class="tna-table__cell tna-table__cell--numeric">{{ project.modified_at|date }}</td>
                    <td class="tna-table__cell tna-table__cell--numeric">{{ project.responses_count }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
{% endblock content %}
